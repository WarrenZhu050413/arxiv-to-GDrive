# Refactoring Plan for Paper-to-GDrive Extension

## Description Unification
- [x] Create central descriptions.js file to store all text content
- [x] Update popup.html to dynamically load descriptions from descriptions.js
- [x] Update manifest.json to use descriptions from descriptions.js (via build script)
- [x] Update README.md to use descriptions from descriptions.js (via build script)
- [x] Create build scripts to automate description updates

## Code Organization
- [x] Move savePath and loadSettings to path_utils.js
- [x] Remove duplicate forceClosePopup and handleCommandShiftP functions from popup_handlers.js
- [x] Collect all global constants into a single constants.js file:
  - [x] MAX_HISTORY (from path_utils.js)
  - [x] DEFAULT_PATH (from path_utils.js)
  - [x] CUSTOM_TITLE_TIMEOUT_VALUE (from popup_handlers.js)
  - [x] Added other common constants (timeout values, API URLs, storage keys)

## Cleanup
- [x] Ensure consistent file structure and organization
- [x] Add comment headers to each file explaining its purpose
- [x] Update imports to reflect new file structure
- [x] Remove any unused functions or dead code
- [x] Fix build scripts to use ES Modules instead of CommonJS
- [x] Improve error handling using error_utils.js

## Completed Tasks
- [x] Run the build scripts to update manifest.json and README.md
- [x] Fix bugs in the build scripts and improve reliability

## Future Improvements
- [ ] Add JSDoc comments for better documentation
- [ ] Consider adding unit tests for the utilities
- [ ] Implement a bundler for production builds
